{% extends "expert_layout.html" %} <!-- Will simply inherit firm's layout-->
{% block content %}
<head>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<h1 class="m-0 font-weight-bold text-info">Expert Portal</h1>
<br>
<div class="container">
    <div class="card o-hidden border-0 shadow-lg my-5">
        <div class="card-body p-0">
            <div class="p-5">
                <h1 class="m-0 font-weight-bold text-gray-700">Claimant Demographic</h1><br>
                <body>
                <!-- Plotly chart will be drawn inside this DIV -->
                <div id="myDiv" style="width:100%;height:100%"></div>
                <script>
                    var myPlot = document.getElementById('myDiv');
                    Plotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/3d-scatter.csv', function (err, rows) {
                        function unpack(rows, key) {
                            return rows.map(function (row) {
                                return row[key];
                            });
                        }

                        var trace1 = {
                            x: unpack(rows, 'x1'), y: unpack(rows, 'y1'), z: unpack(rows, 'z1'),
                            mode: 'markers',
                            marker: {
                                size: 12,
                                line: {
                                    color: 'rgba(217, 217, 217, 0.14)',
                                    width: 0.5
                                },
                                opacity: 0.8
                            },
                            type: 'scatter3d'
                        };
                        var trace2 = {
                            x: unpack(rows, 'x2'), y: unpack(rows, 'y2'), z: unpack(rows, 'z2'),
                            mode: 'markers',
                            marker: {
                                color: 'rgb(127, 127, 127)',
                                size: 12,
                                symbol: 'circle',
                                line: {
                                    color: 'rgb(204, 204, 204)',
                                    width: 1
                                },
                                opacity: 0.9
                            },
                            type: 'scatter3d'
                        };
                        var data = [trace1, trace2];
                        var layout = {
                            dragmode: false,
                            margin: {
                                l: 0,
                                r: 0,
                                b: 0,
                                t: 0
                            }
                        };
                        Plotly.newPlot('myDiv', data, layout, {showSendToCloud: false});
                        // click event to link to claimant list
                        myPlot.on('plotly_click', function () {
                            window.location.href = "claimant_list.html";
                        });
                    });

                </script>
                </body>
            </div>
        </div>
    </div>
</div>
{% endblock %}